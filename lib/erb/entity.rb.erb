require_relative 'entity'

module <%= @object.full_const.split(/::/).first %>
  module Entities

    class <%= "#{@object.const} < Entity" %>
<% for @atrb in @object.attrs -%>
      attr_reader :<%= @atrb.name %>
<% end -%>

      def initialize(<%= @object.attrs.map(&:name).join(':, ')%>:)
<% for @atrb in @object.attrs -%>
<% decor = @decorator.new(@atrb.type) -%>
<% guard = "Guard#{decor.const}" -%>
        @<%= @atrb.name %> = <%= guard %>.(<%= @atrb.name %>)
<% end -%>
      end
    end

  end
end
